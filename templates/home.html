{% extends "base.html" %}
{% block title %}Home – Too Much Sawce Catering{% endblock %}

{% block content %}
<style>
  /* ===== HERO (full-screen videos) ===== */
  .hero{
    position:relative;height:100vh;min-height:560px;border-radius:16px;
    overflow:hidden;isolation:isolate;
  }
  .video-layer{
    position:absolute;inset:0;width:100%;height:100%;object-fit:cover;
    /* purple tone, slightly dim for legibility */
    filter:saturate(1.05) contrast(1.02) brightness(.92) hue-rotate(10deg);
    -webkit-transform:translateZ(0);transform:translateZ(0);
  }
  /* crossfade on desktop */
  .vid1{animation:fadeCycle 16s linear infinite}
  .vid2{animation:fadeCycle 16s linear infinite reverse}
  @keyframes fadeCycle{0%,40%{opacity:1}50%,90%{opacity:0}100%{opacity:1}}

  /* subtle gold glaze */
  .hero::before{
    content:"";position:absolute;inset:0;pointer-events:none;
    background:radial-gradient(60% 40% at 50% 20%, rgba(255,215,0,.12) 0%, rgba(255,215,0,0) 70%);
    z-index:1;
  }
  /* purple overlay for text contrast */
  .hero::after{
    content:"";position:absolute;inset:0;z-index:1;
    background:linear-gradient(180deg, rgba(75,0,130,.45) 0%, rgba(45,10,78,.65) 55%, rgba(30,8,54,.80) 100%);
  }

  .hero-content{
    position:relative;z-index:2;height:100%;
    display:grid;place-items:center;padding:24px;text-align:center;
  }
  .hero-inner{max-width:960px;margin:0 auto}
  .hero h1{
    font-size:clamp(2rem, 4vw + 1rem, 3.4rem);line-height:1.12;color:#ffd700;margin-bottom:.5rem;
  }
  .hero p{
    font-size:clamp(1rem, 1.2vw + .6rem, 1.25rem);color:#efe8ff;
    margin:0 auto 1.1rem;max-width:800px;
  }
  .cta-row{display:inline-flex;gap:14px;flex-wrap:wrap;justify-content:center;margin-top:.4rem}
  .btn{
    display:inline-block;background:#ffd700;color:#1a132b;font-weight:800;
    padding:12px 20px;border-radius:12px;text-decoration:none;
    box-shadow:0 10px 24px rgba(255,215,0,.25);transition:transform .2s, box-shadow .2s;
  }
  .btn:hover{transform:translateY(-2px);box-shadow:0 14px 28px rgba(255,215,0,.35)}
  .btn-alt{background:transparent;color:#ffd700;border:2px solid rgba(255,215,0,.7)}

  /* prefer vertical clip on smaller screens */
  @media (max-width: 900px){
    .vid1{display:none}
    .vid2{display:block;animation:none;opacity:1}
  }

  /* ===== SECTIONS BELOW HERO ===== */
  .section{margin:28px auto 0;max-width:1200px;padding:0 10px}
  .section h2{text-align:center;color:#ffd700;margin-bottom:12px}

  /* Featured dishes */
  .featured{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
  .tile{
    background:rgba(255,215,0,.08);border:1px solid rgba(255,215,0,.18);
    border-radius:14px;padding:16px;text-align:center;transition:transform .2s;
  }
  .tile:hover{transform:translateY(-4px)}
  .tile h4{color:#ffd700;margin-bottom:6px}
  .tile p{color:#efe8ff;font-size:.95rem}
  .link-row{text-align:center;margin-top:12px}

  /* Why choose us */
  .why{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:22px}
  .why .card{
    background:rgba(255,215,0,.08);border:1px solid rgba(255,215,0,.18);
    border-radius:14px;padding:18px;
  }
  .why h3{color:#ffd700;margin-bottom:6px}
  .why p{color:#efe8ff}

  /* Reviews carousel — centered container */
  .reviews{margin-top:28px}
  .carousel{
    position:relative;overflow:hidden;border-radius:16px;
    background:rgba(15,10,26,.5);border:1px solid rgba(255,215,0,.18);
    max-width:1000px;margin:0 auto; /* <— centers the widget */
  }
  .track{display:flex;transition:transform .5s ease}
  .review{flex:0 0 100%;padding:28px 20px;text-align:center}
  .review blockquote{
    color:#fff;font-size:1.05rem;line-height:1.6;max-width:900px;margin:0 auto 8px;
  }
  .review .name{color:#ffd700;font-weight:700}
  .dots{display:flex;justify-content:center;gap:8px;padding:12px 0}
  .dot{width:10px;height:10px;border-radius:50%;background:rgba(255,215,0,.35);cursor:pointer}
  .dot.active{background:#ffd700}

  /* CTA banner */
  .cta-banner{
    margin:28px auto 0;max-width:1000px;padding:20px;text-align:center;
    background:linear-gradient(90deg, rgba(255,215,0,.15), rgba(255,215,0,.05));
    border:1px solid rgba(255,215,0,.18);border-radius:16px;
  }
  .cta-banner p{color:#efe8ff;margin-bottom:10px}

  /* Responsive grids */
  @media (max-width: 900px){
    .featured{grid-template-columns:1fr 1fr}
    .why{grid-template-columns:1fr}
  }
  @media (max-width: 600px){
    .featured{grid-template-columns:1fr}
  }
</style>

<!-- ===== HERO ===== -->
<section class="hero">
  <video class="video-layer vid1" autoplay muted loop playsinline preload="auto">
    <source src="{{ url_for('static', filename='video/homepagevid1.mp4') }}" type="video/mp4">
  </video>
  <video class="video-layer vid2" autoplay muted loop playsinline preload="auto">
    <source src="{{ url_for('static', filename='video/homepagevid3.mp4') }}" type="video/mp4">
  </video>

  <div class="hero-content">
    <div class="hero-inner">
      <h1>2 Bruhz - One Passion - Catering That Brings the Flavor.</h1>
      <p>Private dinners, events, and meal prep across the Charlotte area — bold taste, plated beautifully.</p>
      <div class="cta-row">
        <a class="btn" href="{{ url_for('contact') }}">Book Us</a>
        <a class="btn btn-alt" href="{{ url_for('what_we_offer') }}">See Signature Dishes</a>
      </div>
    </div>
  </div>
</section>

<!-- ===== FEATURED DISHES ===== -->
<section class="section">
  <h2>Featured Dishes</h2>
  <div class="featured">
    <div class="tile"><h4>Cajun Shrimp & Grits</h4><p>Rich, creamy, and packed with flavor.</p></div>
    <div class="tile"><h4>Oxtail Plates</h4><p>Slow-braised perfection with sides.</p></div>
    <div class="tile"><h4>Honey Hot Wings</h4><p>Sticky-sweet heat, finger-licking good.</p></div>
    <div class="tile"><h4>Mac & Cheese</h4><p>Three-cheese blend, baked golden.</p></div>
  </div>
  <div class="link-row"><a class="btn btn-alt" href="{{ url_for('what_we_offer') }}">View Full Menu</a></div>
</section>

<!-- ===== WHY CHOOSE US ===== -->
<section class="section">
  <h2>Why Choose Too Much Sawce</h2>
  <div class="why">
    <div class="card">
      <h3>Chef-Driven</h3>
      <p>Two chefs, one vision — elevated flavors with real hospitality.</p>
    </div>
    <div class="card">
      <h3>Custom Menus</h3>
      <p>Private dinners, events, and meal prep tailored to your taste.</p>
    </div>
    <div class="card">
      <h3>Charlotte Proud</h3>
      <p>Serving the QC with bold plates and unforgettable presentation.</p>
    </div>
  </div>
</section>

<!-- ===== REVIEWS CAROUSEL ===== -->
<section class="section reviews">
  <h2>What Our Clients Say</h2>
  <div class="carousel" id="reviews">
    <div class="track">
      <div class="review">
        <blockquote>“Absolutely phenomenal. The shrimp & grits were the best I’ve ever had, and they handled our event like pros.”</blockquote>
        <div class="name">Ashley P.</div>
      </div>
      <div class="review">
        <blockquote>“They cooked on-site for our anniversary dinner and every dish was a hit. Professional, friendly, and delicious.”</blockquote>
        <div class="name">Marcus L.</div>
      </div>
      <div class="review">
        <blockquote>“Meal prep that actually tastes like restaurant quality. Fresh, consistent, and on time every week.”</blockquote>
        <div class="name">Brianna S.</div>
      </div>
    </div>
    <div class="dots">
      <div class="dot active" data-i="0" aria-label="Review 1"></div>
      <div class="dot" data-i="1" aria-label="Review 2"></div>
      <div class="dot" data-i="2" aria-label="Review 3"></div>
    </div>
  </div>
</section>

<!-- ===== CTA BANNER ===== -->
<section class="section cta-banner">
  <p>Ready to bring the sawce to your next event?</p>
  <a class="btn" href="{{ url_for('contact') }}">Request a Quote</a>
</section>

<script>
  /* Reviews carousel: centered & swipe-friendly */
  (function(){
    const root = document.getElementById('reviews');
    if (!root) return;
    const track = root.querySelector('.track');
    const dots = Array.from(root.querySelectorAll('.dot'));
    let i = 0, n = dots.length, timer;

    function go(k){
      i = (k + n) % n;
      track.style.transform = `translateX(-${i * 100}%)`;
      dots.forEach((d,idx)=>d.classList.toggle('active', idx===i));
    }
    function start(){ timer = setInterval(()=>go(i+1), 4500); }
    function stop(){ clearInterval(timer); }

    dots.forEach(d => d.addEventListener('click', () => { stop(); go(+d.dataset.i); start(); }));

    // swipe
    let sx = 0;
    track.addEventListener('touchstart', e => { stop(); sx = e.touches[0].clientX; }, {passive:true});
    track.addEventListener('touchend', e => {
      const dx = e.changedTouches[0].clientX - sx;
      if (Math.abs(dx) > 50) go(i + (dx < 0 ? 1 : -1));
      start();
    });

    start();
  })();
</script>
{% endblock %}
